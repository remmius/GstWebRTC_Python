<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Login for rc_modellauto</title>
    
  </head>
  <body>    
      <div>
        <label for="username">Username</label>
        <input id="username" value="user">
      </div>
      <div>
        <label for="password">Password</label>
        <input id="password" value="pwd">
      </div>
      <div>
        <button onclick="submit_login()">Login</button>
      </div>   
    
    <script>    
    function submit_login(){        
        var url = window.location.protocol+"//"+window.location.hostname+"/gstreamer-browser-webrtc/logindata";
        var method = "POST";        
        var postData="username="+document.getElementById("username").value+"&password="+document.getElementById("password").value
        var shouldBeAsync = true;
        var request = new XMLHttpRequest();
        request.onload = function () {            
           console.log("return code:",request.status)           
            if(request.status==200){
                  window.location=window.location.protocol+"//"+window.location.hostname+request.response
                }
            if(request.status==403){
                alert("wrong username or password")
            }
        }
    request.open(method, url, shouldBeAsync);
    request.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");    
    request.send(postData);
    }
    
    </script> 
</body>
</html>
